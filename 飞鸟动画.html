<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html,body{
				height: 100%;
				overflow: hidden;
			}
			#test{
				position: absolute;
				top: 0;
				left: 0;
				bottom: 0;
				right: 0;
				
				margin:  auto;
				background-color: white;
			}
			
		</style>
	</head>
	<body>
		<canvas id="test">
			<span>你的浏览器不支持，请更换新版本</span>
		</canvas>
	</body>
	<script type="text/javascript">
		window.onload = function(){
			var canNode = document.querySelector("#test");
			canNode.width = document.documentElement.clientWidth;
			canNode.height = document.documentElement.clientHeight;
			if(canNode.getContext){
				var can = canNode.getContext("2d");
				var flage = 0;
				var xv = 0;
				setInterval(function(){
					//每次进入清除上次动画重新绘制
					can.clearRect(0,0,canNode.width,canNode.height);
					//循环取8张图片
					if(flage == 9){
						flage = 1;
					}
					flage++;
					//设置图片每次移动距离
					xv+=10;
					var img = new Image();
					img.src="img/q_r"+flage+".jpg"
					img.onload = function(){
						draw(this,xv);
					}
				},1000/10);
				
				
				function draw(img,xv){
					can.drawImage(img,xv,0)
				}
			}
		}
	</script>
</html>
